Traverse paths on a graph in parallel. Some nodes are marked as goals. After how many steps will all paths hit goals simultaneously?

The actual input is very nice (cycles of coprime lengths, all aligned to same period), but this is a general solution, because it's more fun.
